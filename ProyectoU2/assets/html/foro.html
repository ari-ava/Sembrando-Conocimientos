<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/css/foro.css">
    <title>Foro</title>
</head>
<body>
    <header>
        <div class="botones">
            <button><a href="">Inicio</a></button>
            <button><a href="">Misión</a></button>
            <button><a href="">Formulario</a></button>
            <button><a href="">Calculadora</a></button>
            <button><a href="">Foro</a></button>
        </div>
    </header>

    <section class="Foro-1">
        <h1>Bienvenido a nuestro Foro</h1>
        <div class="intro-foro">
            <p>¿Tienes dudas o quieres ayudar a alguien? Este foro es tu espacio para compartir, aprender y crecer juntos.
                Aquí niños y jóvenes encuentran apoyo mutuo, resuelven problemas y construyen conocimiento en equipo.
                ¡Participa, pregunta y colabora para que nadie enfrente sus retos solo!</p>
        </div>
        <div class="Foro-1-img">
            <div class="card">
                <p>📘 Aprende</p>
            </div>
            <div class="card">
                <p>💬 Participa</p>
            </div>
            <div class="card">
                <p>🤝 Ayuda</p>
            </div>
        </div>
    </section>

    <section class="Foro-2">
        <h1>¡Elige una materia y empieza a interactuar!</h1>

        <!-- Filtro de materias -->
        <div class="materias">
            <button onclick="filtrarMateria('Comunicación')">Comunicación</button>
            <button onclick="filtrarMateria('Finanzas')">Finanzas</button>
            <button onclick="filtrarMateria('Arte')">Arte</button>
            <button onclick="filtrarMateria('Matemática')">Matemática</button>
            <button onclick="filtrarMateria('Ciencias')">Ciencias</button>
            <button onclick="filtrarMateria('Tecnología')">Tecnología</button>
        </div>

        <!-- Ejemplo inicial -->
        <div class="ejemplo-foro">
            <p><b>Pregunta:</b> Hola, ¿qué libros me recomendarían para estudiar química?</p>
            <p><span>Respuestas:</span></p>
            <span>👤 Usuario1:</span>
            <p>Hola, te recomendaría el libro de química Chang 7ma edición</p>
            <span>👤 Usuario2:</span>
            <p>Te recomiendo el libro Brown 9na edición</p>
        </div>
        
        <!-- Publicar mensajes -->
        <div id="nuevoMensaje">
            <input type="text" id="mensajeInput" placeholder="Escribe tu mensaje aquí">
            <select id="materiaSelect">
                <option value="">Selecciona materia</option>
                <option value="Comunicación">Comunicación</option>
                <option value="Finanzas">Finanzas</option>
                <option value="Arte">Arte</option>
                <option value="Matemática">Matemática</option>
                <option value="Ciencias">Ciencias</option>
                <option value="Tecnología">Tecnología</option>
            </select>
            <button class="btn" onclick="publicarMensaje()">Publicar</button>

            <div id="foro"></div>
        </div>

        <script>
            function publicarMensaje() {
                const texto = document.getElementById("mensajeInput").value.trim();
                const materia = document.getElementById("materiaSelect").value;

                if (texto === "" || materia === "") {
                    alert("Por favor escribe un mensaje y selecciona una materia");
                    return;
                }

                const foro = document.getElementById("foro");

                // Crear contenedor del mensaje
                const mensajeDiv = document.createElement("div");
                mensajeDiv.className = "mensaje";
                mensajeDiv.setAttribute("data-materia", materia);

                const contenido = document.createElement("p");
                contenido.innerHTML = `<b>${materia}:</b> ${texto}`;

                // Botón responder
                const responderBtn = document.createElement("button");
                responderBtn.textContent = "Responder";
                responderBtn.className = "btn";

                // Contenedor de respuestas
                const respuestasDiv = document.createElement("div");
                respuestasDiv.className = "respuestas";

                const respuestaInput = document.createElement("input");
                respuestaInput.type = "text";
                respuestaInput.placeholder = "Escribe una respuesta";

                const enviarRespuestaBtn = document.createElement("button");
                enviarRespuestaBtn.textContent = "Enviar";
                enviarRespuestaBtn.className = "btn";
                enviarRespuestaBtn.onclick = () => {
                    const textoRespuesta = respuestaInput.value.trim();
                    if (textoRespuesta === "") return;

                    const respuesta = document.createElement("div");
                    respuesta.className = "respuesta";
                    respuesta.textContent = textoRespuesta;

                    respuestasDiv.appendChild(respuesta);
                    respuestaInput.value = "";
                };

                respuestasDiv.appendChild(respuestaInput);
                respuestasDiv.appendChild(enviarRespuestaBtn);

                responderBtn.onclick = () => {
                    respuestasDiv.style.display = (respuestasDiv.style.display === "none" || respuestasDiv.style.display === "") 
                        ? "block" : "none";
                };

                // Estructura del mensaje completo
                mensajeDiv.appendChild(contenido);
                mensajeDiv.appendChild(responderBtn);
                mensajeDiv.appendChild(respuestasDiv);

                foro.appendChild(mensajeDiv);

                // Limpiar input
                document.getElementById("mensajeInput").value = "";
                document.getElementById("materiaSelect").value = "";
            }

            function filtrarMateria(materia) {
                const mensajes = document.querySelectorAll("#foro .mensaje");
                mensajes.forEach(m => {
                    if (m.getAttribute("data-materia") === materia || materia === "Todos") {
                        m.style.display = "block";
                    } else {
                        m.style.display = "none";
                    }
                });
            }
        </script>
    </section>

    <section class="Foro-3">
        <h2>Temas destacados:</h2>
        <ul>
            <li><a href="#">Libros para aprender álgebra</a></li>
            <li><a href="#">Libros de física</a></li>
            <li><a href="#">Recomendaciones de webs para aprender matemáticas</a></li>
            <li><a href="#">Plataformas digitales para aprender idiomas</a></li>
        </ul>
    </section>

    <footer>
        <p>Instagram:</p><a href="#">Sembrando_Conocimientos</a>
        <p>Facebook:</p><a href="#">SembrandoConocimentos</a>
    </footer>
</body>
</html>
